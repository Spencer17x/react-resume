{"version":3,"sources":["components/ResumeEditor.tsx","components/StyleEditor.tsx","App.tsx","index.tsx"],"names":["ResumeEditor","props","container","useRef","useEffect","current","scrollTop","react_default","a","createElement","className","enableHtml","filter","Boolean","join","ref","dangerouslySetInnerHTML","__html","marked","markdown","StyleEditor","concat","code","Prism","highlight","languages","css","App","_useState","useState","interval","Object","slicedToArray","_useState3","_useState4","currentStyle","setCurrentStyle","_useState5","_useState6","setEnableHtml","_useState7","fullStyle","_useState9","_useState10","currentMarkdown","setCurrentMarkdown","_useState11","fullMarkdown","makeResume","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","progressivelyShowStyle","Promise","resolve","reject","length","setTimeout","substring","stop","apply","this","arguments","n","_ref2","_callee2","style","prefixLength","l","char","_context2","abrupt","_","index","map","item","reduce","p","c","components_StyleEditor","components_ResumeEditor","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.c49677c9.chunk.js","sourcesContent":["import React, {useEffect, useRef} from 'react';\nimport marked from 'marked';\n\ninterface IProps {\n  markdown: string;\n  enableHtml: boolean;\n}\n\nconst ResumeEditor: React.FC<IProps> = (props) => {\n  const container = useRef(null);\n  const goBottom: () => void = () => {\n    (container.current! as HTMLDivElement).scrollTop = 100000;\n  };\n  useEffect(() => {\n    goBottom();\n  });\n\n  return (\n    <div className={['resumeEditor', props.enableHtml ? 'htmlMode' : ''].filter(Boolean).join(' ')} ref={container}>\n      {props.enableHtml ?\n        <div dangerouslySetInnerHTML={{__html: props.enableHtml ? marked(props.markdown) : props.markdown}}></div> :\n        <pre>{props.enableHtml ? marked(props.markdown) : props.markdown}</pre>}\n    </div>\n  )\n}\n\nexport default ResumeEditor;","import React, {useEffect, useRef} from 'react';\nimport Prism from 'prismjs';\n\ninterface IProps {\n  code: string;\n}\n\nconst StyleEditor: React.FC<IProps> = (props) => {\n  const container = useRef(null);\n  const goBottom: () => void = () => {\n    (container.current! as HTMLDivElement).scrollTop = 100000;\n  };\n  useEffect(() => {\n    goBottom();\n  });\n  return (\n    <div className=\"styleEditor\" ref={container}>\n      <div className=\"code\" dangerouslySetInnerHTML={{__html: `<style>${props.code}</style>`}}/>\n      <pre className=\"\" dangerouslySetInnerHTML={{__html: Prism.highlight(props.code, Prism.languages.css, 'javascript')}}></pre>\n    </div>\n  )\n}\n\nexport default StyleEditor;","import React, { useEffect, useState } from 'react';\nimport './reset.css';\nimport ResumeEditor from './components/ResumeEditor';\nimport StyleEditor from './components/StyleEditor';\n\nconst App: React.FC = () => {\n\tconst [interval] = useState(40);\n\tconst [currentStyle, setCurrentStyle] = useState('');\n\tconst [enableHtml, setEnableHtml] = useState(false);\n\tconst [fullStyle] = useState([\n\t\t`/*\n* Inspired by http://strml.net/\n* 大家好，我是17\n* 热于追求技术\n*/\n\n/* 首先给所有元素加上过渡效果 */\n* {\n  transition: all .3s;\n}\n/* 白色背景太单调了，我们来点背景 */\nhtml {\n  color: rgb(222,222,222); background: rgb(0,43,54);\n}\n/* 文字离边框太近了 */\n.styleEditor {\n  padding: .5em;\n  border: 1px solid;\n  margin: .5em;\n  overflow: auto;\n  width: 45vw; height: 90vh;\n}\n/* 代码高亮 */\n.token.selector{ color: rgb(133,153,0); }\n.token.property{ color: rgb(187,137,0); }\n.token.punctuation{ color: yellow; }\n.token.function{ color: rgb(42,161,152); }\n\n/* 加点 3D 效果呗 */\nhtml{\n  perspective: 1000px;\n}\n.styleEditor {\n  position: fixed; left: 0; top: 0;\n  -webkit-transition: none;\n  transition: none;\n  -webkit-transform: rotateY(10deg) translateZ(-100px) ;\n          transform: rotateY(10deg) translateZ(-100px) ;\n}\n\n/* 接下来我给自己准备一个编辑器 */\n.resumeEditor{\n  position: fixed; right: 0; top: 0;\n  padding: .5em;  margin: .5em;\n  width: 48vw; height: 90vh;\n  border: 1px solid;\n  background: white; color: #222;\n  overflow: auto;\n}\n/* 好了，我开始写简历了 */\n\n\n`,\n\t\t`\n/* 这个简历好像差点什么\n * 对了，这是 Markdown 格式的，我需要变成对 HR 更友好的格式\n * 简单，用开源工具翻译成 HTML 就行了\n */\n`\n\t\t,\n\t\t`\n/* 再对 HTML 加点样式 */\n.resumeEditor{\n  padding: 2em;\n}\n.resumeEditor h2{\n  display: inline-block;\n  border-bottom: 1px solid;\n  margin: 1em 0 .5em;\n}\n.resumeEditor ul,.resumeEditor ol{\n  list-style: none;\n}\n.resumeEditor ul> li::before{\n  content: '•';\n  margin-right: .5em;\n}\n.resumeEditor ol {\n  counter-reset: section;\n}\n.resumeEditor ol li::before {\n  counter-increment: section;\n  content: counters(section, \".\") \" \";\n  margin-right: .5em;\n}\n.resumeEditor blockquote {\n  margin: 1em;\n  padding: .5em;\n  background: #ddd;\n}\n`\n\t]);\n\tconst [currentMarkdown, setCurrentMarkdown] = useState('');\n\tconst [fullMarkdown] = useState(`17\n----\n\n前端工程师，坐标杭州\n\n技能\n----\n\n* React.js\n* Vue.js\n* TypeScript\n* Taro\n* 微信小程序开发\n\n工作经历\n----\n\n于18年毕业\n第一家公司实习3个月\n第二家公司9月初至今\n\n个人简介及链接\n----\n\n给 Taro 贡献过代码\n\n* [GitHub](https://github.com/xuzpeng)\n* [我的Blog](https://xuzpeng.github.io/)\n* [我的个人开源项目](https://github.com/xuzpeng/fiona-ui)\n\n> 如果你喜欢这个效果，Fork [我的项目](https://github.com/xuzpeng/react-resume)，打造你自己的简历！\n\n`);\n\tconst progressivelyShowResume = () => {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet length = fullMarkdown.length;\n\t\t\tlet showResume = () => {\n\t\t\t\tif (currentMarkdown.length < length) {\n\t\t\t\t\tsetCurrentMarkdown(fullMarkdown.substring(0, currentMarkdown.length + 1));\n\t\t\t\t} else {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t};\n\t\t\tsetTimeout(showResume, interval);\n\t\t});\n\t};\n\tconst showHtml = function () {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tsetEnableHtml(true);\n\t\t\tresolve();\n\t\t});\n\t};\n\tconst makeResume = async function () {\n\t\tawait progressivelyShowStyle(0);\n\t\tawait progressivelyShowResume();\n\t\tawait progressivelyShowStyle(1);\n\t\tawait showHtml();\n\t\tawait progressivelyShowStyle(2);\n\t};\n\tconst progressivelyShowStyle = function (n: number) {\n\t\treturn new Promise((resolve, reject) => {\n\t\t\tlet showStyle = (async function () {\n\t\t\t\tlet style = fullStyle[n];\n\t\t\t\tif (!style) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t// 计算前 n 个 style 的字符总数\n\t\t\t\tlet length = fullStyle\n\t\t\t\t.filter((_, index) => index <= n)\n\t\t\t\t.map((item) => item.length)\n\t\t\t\t.reduce((p, c) => p + c, 0);\n\t\t\t\tlet prefixLength = length - style.length;\n\t\t\t\tif (currentStyle.length < length) {\n\t\t\t\t\tlet l = currentStyle.length - prefixLength;\n\t\t\t\t\tlet char = style.substring(l, l + 1) || ' ';\n\t\t\t\t\tsetCurrentStyle(currentStyle + char);\n\t\t\t\t} else {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetTimeout(showStyle, interval);\n\t\t});\n\t};\n\tuseEffect(() => {\n\t\tmakeResume();\n\t});\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<StyleEditor code={currentStyle} />\n\t\t\t<ResumeEditor markdown={currentMarkdown} enableHtml={enableHtml} />\n\t\t</div>\n\t);\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}