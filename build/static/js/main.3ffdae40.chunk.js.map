{"version":3,"sources":["components/ResumeEditor.tsx","components/StyleEditor.tsx","App.tsx","index.tsx"],"names":["ResumeEditor","props","container","useRef","useEffect","current","scrollTop","react_default","a","createElement","className","enableHtml","filter","Boolean","join","ref","dangerouslySetInnerHTML","__html","marked","markdown","StyleEditor","concat","code","Prism","highlight","languages","css","App","_useState","useState","interval","Object","slicedToArray","_useState3","_useState4","currentStyle","setCurrentStyle","_useState5","_useState6","setEnableHtml","_useState7","fullStyle","_useState9","_useState10","currentMarkdown","setCurrentMarkdown","_useState11","fullMarkdown","makeResume","_ref","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","progressivelyShowStyle","Promise","resolve","reject","length","setTimeout","substring","stop","apply","this","arguments","n","_ref2","_callee2","style","prefixLength","l","_char","_context2","abrupt","_","index","map","item","reduce","p","c","char","components_StyleEditor","components_ResumeEditor","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3ffdae40.chunk.js","sourcesContent":["import React, {useEffect, useRef} from 'react';\n// @ts-ignore\nimport marked from 'marked';\n\ninterface IProps {\n  ref?: object;\n  markdown?: string;\n  enableHtml?: boolean;\n}\n\nconst ResumeEditor: React.FC<IProps> = (props) => {\n  const container = useRef(null);\n  const goBottom = () => {\n    //@ts-ignore\n    container.current.scrollTop = 100000\n  };\n  useEffect(() => {\n    goBottom();\n  });\n\n  return (\n    //@ts-ignore\n    <div className={['resumeEditor', props.enableHtml ? 'htmlMode' : ''].filter(Boolean).join(' ')} ref={container}>\n      {props.enableHtml ?\n        <div dangerouslySetInnerHTML={{__html: props.enableHtml ? marked(props.markdown) : props.markdown}}></div> :\n        <pre>{props.enableHtml ? marked(props.markdown) : props.markdown}</pre>}\n    </div>\n  )\n}\n\nexport default ResumeEditor;","import React, {useEffect, useRef} from 'react';\n//@ts-ignore\nimport Prism from 'prismjs';\n\ninterface IProps {\n  ref?: object;\n  code?: string;\n}\n\nconst StyleEditor: React.FC<IProps> = (props) => {\n  const container = useRef(null);\n  const goBottom = () => {\n    //@ts-ignore\n    container.current.scrollTop = 100000\n  };\n  useEffect(() => {\n    goBottom();\n  });\n  return (\n    <div className=\"styleEditor\" ref={container}>\n      <div className=\"code\" dangerouslySetInnerHTML={{__html: `<style>${props.code}</style>`}}/>\n      <pre className=\"\" dangerouslySetInnerHTML={{__html: Prism.highlight(props.code, Prism.languages.css)}}></pre>\n    </div>\n  )\n}\n\nexport default StyleEditor;","import React, {useEffect, useState} from 'react';\nimport './reset.css';\nimport ResumeEditor from \"./components/ResumeEditor\";\nimport StyleEditor from \"./components/StyleEditor\";\n\nconst App: React.FC = () => {\n  const [interval] = useState(40);\n  const [currentStyle, setCurrentStyle] = useState('');\n  const [enableHtml, setEnableHtml] = useState(false);\n  const [fullStyle] = useState([\n    `/*\n* Inspired by http://strml.net/\n* 大家好，我是17\n* 好多公司都在招聘，你是不是也在准备简历呀。\n* 说做就做，我也来写一份简历！\n*/\n\n/* 首先给所有元素加上过渡效果 */\n* {\n  transition: all .3s;\n}\n/* 白色背景太单调了，我们来点背景 */\nhtml {\n  color: rgb(222,222,222); background: rgb(0,43,54);\n}\n/* 文字离边框太近了 */\n.styleEditor {\n  padding: .5em;\n  border: 1px solid;\n  margin: .5em;\n  overflow: auto;\n  width: 45vw; height: 90vh;\n}\n/* 代码高亮 */\n.token.selector{ color: rgb(133,153,0); }\n.token.property{ color: rgb(187,137,0); }\n.token.punctuation{ color: yellow; }\n.token.function{ color: rgb(42,161,152); }\n\n/* 加点 3D 效果呗 */\nhtml{\n  perspective: 1000px;\n}\n.styleEditor {\n  position: fixed; left: 0; top: 0;\n  -webkit-transition: none;\n  transition: none;\n  -webkit-transform: rotateY(10deg) translateZ(-100px) ;\n          transform: rotateY(10deg) translateZ(-100px) ;\n}\n\n/* 接下来我给自己准备一个编辑器 */\n.resumeEditor{\n  position: fixed; right: 0; top: 0;\n  padding: .5em;  margin: .5em;\n  width: 48vw; height: 90vh;\n  border: 1px solid;\n  background: white; color: #222;\n  overflow: auto;\n}\n/* 好了，我开始写简历了 */\n\n\n`,\n    `\n/* 这个简历好像差点什么\n * 对了，这是 Markdown 格式的，我需要变成对 HR 更友好的格式\n * 简单，用开源工具翻译成 HTML 就行了\n */\n`\n    ,\n    `\n/* 再对 HTML 加点样式 */\n.resumeEditor{\n  padding: 2em;\n}\n.resumeEditor h2{\n  display: inline-block;\n  border-bottom: 1px solid;\n  margin: 1em 0 .5em;\n}\n.resumeEditor ul,.resumeEditor ol{\n  list-style: none;\n}\n.resumeEditor ul> li::before{\n  content: '•';\n  margin-right: .5em;\n}\n.resumeEditor ol {\n  counter-reset: section;\n}\n.resumeEditor ol li::before {\n  counter-increment: section;\n  content: counters(section, \".\") \" \";\n  margin-right: .5em;\n}\n.resumeEditor blockquote {\n  margin: 1em;\n  padding: .5em;\n  background: #ddd;\n}\n`\n  ]);\n  const [currentMarkdown, setCurrentMarkdown] = useState('');\n  const [fullMarkdown] = useState(`17\n----\n\n前端工程师，现于杭州一家互联网公司任职，具体哪家你就自己猜去吧\n\n技能\n----\n\n* 前端三剑客\n* React.js\n* Vue.js\n* 小程序原生开发\n\n工作经历\n----\n\n于18年毕业\n第一家公司任职3个月\n第二家公司9月初至今\n\n链接\n----\n\n* [GitHub](https://github.com/xuzpeng)\n* [我的Blog](https://xuzpeng.github.io/)\n* [我的个人开源项目](https://github.com/xuzpeng/fiona-ui)，进行中\n\n> 如果你喜欢这个效果，Fork [我的项目](https://github.com/xuzpeng/react-resume)，打造你自己的简历！\n\n`);\n  const progressivelyShowResume = () => {\n    return new Promise((resolve, reject) => {\n      let length = fullMarkdown.length;\n      let showResume = () => {\n        if (currentMarkdown.length < length) {\n          setCurrentMarkdown(fullMarkdown.substring(0, currentMarkdown.length + 1))\n        } else {\n          resolve();\n        }\n      };\n      setTimeout(showResume, interval);\n    });\n  }\n  const showHtml = function () {\n    return new Promise((resolve, reject) => {\n      setEnableHtml(true);\n      resolve();\n    });\n  };\n  const makeResume = async function () {\n    await progressivelyShowStyle(0);\n    await progressivelyShowResume();\n    await progressivelyShowStyle(1);\n    await showHtml();\n    await progressivelyShowStyle(2);\n  };\n  const progressivelyShowStyle = function (n: number) {\n    return new Promise((resolve, reject) => {\n      let showStyle = (async function () {\n        let style = fullStyle[n];\n        if (!style) {\n          return;\n        }\n        // 计算前 n 个 style 的字符总数\n        let length = fullStyle\n          .filter((_, index) => index <= n)\n          .map((item) => item.length)\n          .reduce((p, c) => p + c, 0);\n        let prefixLength = length - style.length;\n        if (currentStyle.length < length) {\n          let l = currentStyle.length - prefixLength;\n          let char = style.substring(l, l + 1) || ' ';\n          setCurrentStyle(currentStyle + char);\n        } else {\n          resolve();\n        }\n      });\n      setTimeout(showStyle, interval);\n    });\n  };\n  useEffect(() => {\n    makeResume();\n  });\n  return (\n    <div className=\"App\">\n      <StyleEditor code={currentStyle}/>\n      <ResumeEditor markdown={currentMarkdown} enableHtml={enableHtml}/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}